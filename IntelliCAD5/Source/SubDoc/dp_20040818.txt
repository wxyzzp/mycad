Document Title:  DP_20040818.txt	
Product Version: ICAD 5
Date:  18.08.2004
Engineer: Denis Petrov

1. Process Checklist :
* Regress run without new failures: Y/N
* Did you test it? : Y/N
* Code Reviewed By: 
* Docs Changes Required: Y/N
* Submitted to branch(es):
R50_Release

2. Modules Affected :
ICAD

3.  Overview:
The following problems are fixed:
1) Screen is not updated after deletion of layout. Refer to Bugzilla 78893 for additional details.
2) Last layout in drawing can not be deleted. Refer to Bugzilla 78893 for additional details.
3) Layout can not be saved if it does not contain any entities.
4) Memory leaks because of improper fix of Bugzilla 78663

The following corrections are made:
1) Add code to initiate current view redraw after layout deletion.
2) Add code to create new empty layout (Layout1) before deletion of last layout.
3) Add code to check if layout entities selection set is empty, do not return error in this case.
4) Add code to delete maps introduced by fix for Bugzilla 78663

4.  Notes to Docs:

5.  Notes for Regress/Benchmarks:
New script(s) submitted: Y/N
File Name 		Module Name.
Name of Script file     Name of the module the script tests.

Script Change required: Y/N
File Name       	Sent to buildmanager@intellicad.org
Name of Script File     Y/N

6.  Change Log:
For a list of changed files, please look in http://www.itcdevelopment.org:8080/DEV/Fishbowl/CvsCommitList.  You will need a Zope id and password to access this site.
--------------------------------------------------------------------------------
Reference:      Bugzilla 78893  
Affected files: 
2004-08-18   07:54   denisp   Source/prj/lib/LISP/freers.cpp?rev=1.3.4.2.2.1 
2004-08-18   07:55   denisp   Source/prj/ICAD/icadmain.cpp?rev=1.18.4.11.2.8 
2004-08-18   07:56   denisp   Source/prj/ICAD/LayoutTabs.cpp?rev=1.1.4.4.2.4 
2004-08-18   07:57   denisp   Source/prj/lib/CMDS/cmdsLayout.cpp?rev=1.1.4.19.2.5 
2004-08-18   07:59   denisp   Source/prj/lib/CMDS/CloneHelper.cpp?rev=1.1.4.2.2.1 
Description:  
The following problems are fixed:
1) Screen is not updated after deletion of layout.
2) Last layout in drawing can not be deleted. 
3) Layout can not be saved if it does not contain any entities.
4) Memory leaks because of improper fix of Bugzilla 78663
--------------------------------------------------------------------------------

7.  System file - Component Changes and Additions
Need any system file changes in icad due to this submission (eg. files added to c:\winnt\system32)?  Please provide detail.

8.  Testing Considerations:
* Unit Test Description: Describe your unit test and your result so that we know the expected result.
* Notes for QA Testing: Notes for the QA team.

9.  Installation Issues:
Anything the members need to be aware of when creating their installers for the product.



